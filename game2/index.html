<!DOCTYPE html>
<html>
<head>
  <title>WARZONE-X</title>
  <style>
    body { margin: 0; overflow: hidden; background: black; }
    #hud {
      position: absolute;
      top: 10px;
      left: 10px;
      color: white;
      font-family: Arial;
    }
  </style>
</head>
<body>

<div id="hud">❤️ Health: <span id="hp">100</span></div>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>

<script>
let scene = new THREE.Scene();
scene.background = new THREE.Color(0x202020);

let camera = new THREE.PerspectiveCamera(75, innerWidth/innerHeight, 0.1, 1000);
let renderer = new THREE.WebGLRenderer();
renderer.setSize(innerWidth, innerHeight);
document.body.appendChild(renderer.domElement);

// Light
let light = new THREE.DirectionalLight(0xffffff, 1);
light.position.set(5,10,5);
scene.add(light);

// Ground
let ground = new THREE.Mesh(
  new THREE.PlaneGeometry(100,100),
  new THREE.MeshStandardMaterial({color:0x555555})
);
ground.rotation.x = -Math.PI/2;
scene.add(ground);

// Player
camera.position.set(0,1.6,5);
let health = 100;

// Enemy Bot
let enemy = new THREE.Mesh(
  new THREE.BoxGeometry(1,2,1),
  new THREE.MeshStandardMaterial({color:0xff0000})
);
enemy.position.set(0,1,-10);
scene.add(enemy);

let bullets = [];
let enemyHP = 100;

// Shoot
window.addEventListener("click", () => {
  let ray = new THREE.Raycaster();
  ray.setFromCamera(new THREE.Vector2(0,0), camera);
  let hit = ray.intersectObject(enemy);
  if (hit.length > 0) {
    enemyHP -= 20;
    if (enemyHP <= 0) {
      alert("Enemy Down!");
      enemy.position.z = -10;
      enemyHP = 100;
    }
  }
});

// Enemy AI Shoot
setInterval(() => {
  let dist = enemy.position.distanceTo(camera.position);
  if (dist < 15) {
    health -= 10;
    document.getElementById("hp").innerText = health;
    if (health <= 0) {
      alert("You Died");
      health = 100;
      camera.position.set(0,1.6,5);
    }
  }
}, 1000);

// Movement
let keys = {};
window.addEventListener("keydown", e => keys[e.key.toLowerCase()] = true);
window.addEventListener("keyup", e => keys[e.key.toLowerCase()] = false);

function animate() {
  requestAnimationFrame(animate);

  if (keys["w"]) camera.position.z -= 0.1;
  if (keys["s"]) camera.position.z += 0.1;
  if (keys["a"]) camera.position.x -= 0.1;
  if (keys["d"]) camera.position.x += 0.1;

  enemy.lookAt(camera.position);
  renderer.render(scene, camera);
}
animate();
</script>
</body>
</html>